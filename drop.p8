pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
--drop
--by olivander65

b_spr=1--basket
p_spr=2--player
p_x=64
p_y=100
fruits={}
f_start=16
f_cnt=6
f_itrvl=16
grav=1
level=1
pt=0

function _init()
 for i=1,level do
 	fruit={
 		sprite=flr(rnd(f_cnt)+f_start),
 		x=flr(rnd(120)+5),
 		y=i*(-f_itrvl)
 	}
 	add(fruits,fruit)
 end
end

function _update()
	if (btn(0)) p_x-=2
	if (btn(1)) p_x+=2
	if (btn(2)) p_y-=2
	if (btn(3)) p_y+=2
	
	--fruit
	for fruit in all(fruits) do
		fruit.y+=grav
		if fruit.y+4>p_y-8
		and fruit.y+4<p_y
		and fruit.x+4>p_x
		and fruit.x+4<p_x+8 then
			pt+=1
			del(fruits,fruit)	
		end
	end
	
	if fruit.y>120 then
		del(fruits,fruit)
	end
	
	--got all fruit
	if #fruits==0 then
		level+=1
		_init()
	end
	
end

function _draw()
	cls()
	rectfill(0,108,127,127,3)
	spr(p_spr,p_x,p_y)--plyr
	spr(b_spr,p_x,p_y-8)
	
	--fruit
	for fruit in all(fruits) do
		spr(fruit.sprite,fruit.x,fruit.y)
	end
	
	print("score:"..pt)
end
__gfx__
00000000000000000d0000d000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000700000060560065000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700570706050656656000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0007700050706065006cc60000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0007700057060605006dd60000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700506060d50006600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000056060d050656656000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000055555500500005000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0088880000dddd0000aaaa0000bbbb0000eeee000099990000000000000000000000000000000000000000000000000000000000000000000000000000000000
080008800d0dd0d00a0000a00b0bbbb00e0e0ee00900099000000000000000000000000000000000000000000000000000000000000000000000000000000000
080008800dd00dd00a00a0a00bb0bbb00e0e00e00999909000000000000000000000000000000000000000000000000000000000000000000000000000000000
080008800dd00dd00a0a0aa00bb00bb00e00eee00900909000000000000000000000000000000000000000000000000000000000000000000000000000000000
088880800d0dd0d00a00a0a00b0bb0b00e0000e00990909000000000000000000000000000000000000000000000000000000000000000000000000000000000
0088880000dddd0000aaaa0000bbbb0000eeee000099990000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
0001000015050170501a0501d0502105026050280502b0502d0502f05030050320503205000000300502d0502905024050000001f0501a0501305010050000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
09200000232502325023250232502625028250282502825028250282502625026250262502625026250262502625026250232501f2501f2501f2501f2501f2501c2501c2501c2501c2501f2501f2501f2501f250
